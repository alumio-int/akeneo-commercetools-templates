{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-commercetools-products-incoming","name":"Alumio to Commercetools - Products (Incoming)","description":"Schedulers in this incoming are as follow :\n1. Run the incoming to Fetch Products & variants from Commercetools and save it into Alumio storage\n2. Run the incoming to Fetch Product Types and the attributes from Commercetools to Alumio storage\n3. Run the incoming to fetch Alumio base Products from Alumio storage\n4. Run the incoming to fetch the Akeneo Simple products from Akeneo server","object":{"parameters":{"job":[{"prototype":"run-incoming","parameters":{"incoming":"commercetools-fetch-product-and-variant-ids"}},{"prototype":"run-incoming","parameters":{"incoming":"commercetools-fetch-product-types-and-attributes"}},{"prototype":"run-incoming","parameters":{"incoming":"synchronize-products-akeneo-to-commercetools-fetch-storage-product-model-alumio-base"}},{"prototype":"run-incoming","parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent"}}],"handlers":[],"priority":2,"expression":"*/15 * * * *"}},"owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"commercetools-fetch-product-and-variant-ids","name":"Commercetools - Fetch - Product & Variant ID's","description":"Fetch Products & variants from Commercetools and save it into Alumio storage","object":{"parameters":{"subscriber":{"prototype":"http-subscriber","parameters":{"client":"commercetools-http-client","request":{"uri":"/product-projections","payload":{"limit":500,"offset":0,"staged":"true"},"plugins":[],"payloadType":"data","authentications":[]},"pagination":{"prototype":"query-page-parameter","parameters":{"mode":"offset","pageLimit":10000,"parameter":"offset","expectedCount":500}},"transformer":{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-enable-product-search"]}},"deserializer":{"prototype":"json","parameters":{"pattern":"results","readMethod":"wholeFile","encodeInput":false}}}},"transformers":["commercetools-fetch-product-and-variant-ids-save-product-ids-to-storage"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"commercetools-http-client","name":"Commercetools - HTTP Client","description":"","object":{"prototype":"commercetools-http-client","parameters":{"key":"","scope":"manage_project:le-alumio","authUrl":"https://auth.europe-west1.gcp.commercetools.com","baseUrl":"https://api.europe-west1.gcp.commercetools.com","project":"${COMMERCETOOLS_PROJECT_KEY}","password":"${COMMERCETOOLS_SECRET}","username":"${COMMERCETOOLS_CLIENT_ID}","enableLogging":true,"loggerFormatter":"full"}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-enable-product-search","name":"Commercetools - Enable Product Search","description":"Transformer to enable the \"searchIndexing\" feature on the commercetools system","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"temporary":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"commercetools-http-client","request":{"uri":"?","payload":[],"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temporary.searchIndexing.status"}},"conditions":[{"prototype":"not-equals","parameters":{"value":"Activated"}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"version","value":"&{temporary.version || `1`}","mappers":[{"prototype":"cast-int","parameters":[]},{"prototype":"prepared-operator","parameters":{"left":1,"right":[],"operator":"addition"}}]}]}},{"meta":[],"prototype":"merger","parameters":{"template":{"response":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"commercetools-http-client","request":{"uri":"?","method":"POST","payload":{"actions":[{"action":"changeProductSearchIndexingEnabled","enabled":true}],"version":"&{version}"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"notAvailable":true}}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}}}}],"elseTransformers":[]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-fetch-product-and-variant-ids-save-product-ids-to-storage","name":"Commercetools - Fetch - Product & Variant ID's - Save Product Ids to Storage","description":"Save the Products and variant's ID into storage","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"storage":"commercetools-synchronized-products","storageKey":"&{id}"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"masterVariant.sku"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"source":"masterVariant.id","storage":"commercetools-productvariants-key-to-id","storageKey":"&{masterVariant.sku}"}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"source":"id","storage":"commercetools-productvariants-key-to-id","storageKey":"&{sku}"}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"id":true,"key":true,"version":true}}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}}}},{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"storage":"commercetools-product-key-to-id","storageKey":"&{key}"}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-synchronized-products","name":"CommerceTools - Synchronized Products","description":"","object":{"parameters":{"path":"commercetools-synchronized-products-01JVZG77TCN0XF0FHSVAT3PC2C","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-productvariants-key-to-id","name":"Commercetools - ProductVariants - Key to ID","description":"","object":{"parameters":{"path":"commercetools-productvariants-key-to-id-01JWT849XFRCR4X8BBYJ2MXR7C","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-product-key-to-id","name":"Commercetools - Product - Key to ID","description":"","object":{"parameters":{"path":"commercetools-product-key-to-id-01JWT7XK1768Q99Y1FG2ZYJJDD","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"commercetools-fetch-product-types-and-attributes","name":"Commercetools - Fetch - Product types & Attributes","description":"Fetch Product Types and the attributes from Commercetools to Alumio storage","object":{"parameters":{"subscriber":{"prototype":"http-subscriber","parameters":{"client":"commercetools-http-client","request":{"uri":"/product-types","payload":{"limit":500,"offset":0},"plugins":[],"payloadType":"data","authentications":[]},"pagination":{"prototype":"query-page-parameter","parameters":{"mode":"offset","pageLimit":10000,"parameter":"offset","expectedCount":500}},"transformer":{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":[]}},"deserializer":{"prototype":"json","parameters":{"pattern":"results","readMethod":"wholeFile","encodeInput":false}}}},"transformers":["commercetools-fetch-product-types-and-attributes-save-to-storage"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-fetch-product-types-and-attributes-save-to-storage","name":"Commercetools - Fetch - Product Types & Attributes - Save to Storage","description":"Save the Product Type attribute type into storage","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"productTypeKey":"&{key}"},"childrenPattern":"attributes.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"attributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"source":"type.name","storage":"commercetools-product-types-attributes","storageKey":"&{productTypeKey}-&{name}"}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-product-types-attributes","name":"Commercetools - Product Types Attributes","description":"","object":{"parameters":{"path":"commercetools-product-types-attributes-01JWTE14H51R4AP2D7MY2DH81T","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"synchronize-products-akeneo-to-commercetools-fetch-storage-product-model-alumio-base","name":"Synchronize Products - Akeneo to Commercetools - Fetch Storage Product Model Alumio Base","description":"Incoming for fetch products data (Alumio base) from Alumio Storage","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"storage-subscriber","parameters":{"storage":"alumio-product-model-parent-alumio-base-product-model"}},"transformers":["akeneo-to-commercetools-products-filter-by-previous-storage-entities"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"alumio-product-model-parent-alumio-base-product-model","name":"Alumio - Product Model Parent - Alumio Base Product Model","description":"","object":{"parameters":{"path":"alumio-product-model-parent-alumio-base-product-model-01JVM0QC7H9034QG7Y062BT63N","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-commercetools-products-filter-by-previous-storage-entities","name":"Akeneo to Commercetools - Products - FIlter By Previous storage entities","description":"Transformer to filter the previous stored entities Akeneo Products.","object":{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-to-commercetools-products-delta-storage","addEntityToStorage":true}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-to-commercetools-products-delta-storage","name":"Akeneo to Commercetools - Products - Delta Storage","description":"","object":{"parameters":{"path":"akeneo-to-commercetools-products-delta-storage-01JWWS7XN4PJXPX2TJR2VC21BZ","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"akeneo-fetch-simple-products-or-products-without-parent","name":"Akeneo - Fetch - Simple products or products without parent","description":"There some products data without product model in Akeneo.\n\nThis will become a simple product for other system\n","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"http-subscriber","parameters":{"client":"akeneo-http-client","request":{"uri":"/api/rest/v1/products?limit=100&pagination_type=search_after&search=&{search}","payload":[],"plugins":[],"payloadType":"data","authentications":[]},"pagination":{"prototype":"next","parameters":{"pattern":"_links.next","pageLimit":1000}},"transformer":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"search","value":{"parent":[{"operator":"EMPTY"}]},"mappers":[{"prototype":"serialize-json","parameters":[]}]}]}}]}},"deserializer":{"prototype":"json","parameters":{"pattern":"_embedded.items","readMethod":"wholeFile","encodeInput":false}}}},"transformers":["akeneo-prepare-convert-values-to-localizations-and-custom-attributes","akeneo-prepare-convert-localizations-filter","akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","akeneo-convert-product-to-alumio-base-product","akeneo-filter-simple-product"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"akeneo-http-client","name":"Akeneo - HTTP Client","description":"","object":{"prototype":"akeneo-http-client-v2","parameters":{"key":"01JVKYHNJFP6KH91TYBV92687N","baseUri":"${AKENEO_BASE_URL}","advanced":[],"clientId":"${AKENEO_CLIENT_ID}","password":"${AKENEO_PASSWORD}","username":"${AKENEO_USERNAME}","clientSecret":"${AKENEO_CLIENT_SECRET}","enableLogging":true,"loggerFormatter":"full"}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-values-to-localizations-and-custom-attributes","name":"Akeneo - Prepare convert - Values - To localizations and custom attributes","description":"This transformer will convert localizations data from Akeneo.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"attribute_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"pim_catalog_image"}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"_links"}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"combinedKey","value":"locale:?{locale}|scope:?{scope}","mappers":[]}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"attribute_type"},{"key":"reference_data_name"}]}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"structure","parameters":{"key":"combinedKey","keys":[],"value":"\"\""}},"destination":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.*.*","conditions":[],"replacement":"values.$2.$1"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"values"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"values.*.*.combinedKey"}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.data","conditions":[],"replacement":"customAttributes.$1"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.scope","conditions":[],"replacement":"channelCode"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.locale","conditions":[],"replacement":"localeCode"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.\"locale:|scope:\".customAttributes","conditions":[],"replacement":"customAttributes"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values"}}}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values","conditions":[],"replacement":"localizations"}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-localizations-filter","name":"Akeneo - Prepare Convert - Localizations filter","description":"We use this transformer to only allow any localization with channel code in **\"eCommerce\"**, if it has channel code.\n\nIf you need other channel code please add the value in the Node Filter.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[{"prototype":"or-condition","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"channelCode"}}}},{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"channelCode"}},"conditions":[{"prototype":"one-of","parameters":{"value":["ecommerce"]}}]}}]}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"channelCode"}}}}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations"}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","description":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"destination":{"prototype":"structure","parameters":{"key":"temp","keys":[],"root":"categories","value":"categoryCode"}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"temp"}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories"}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base","description":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base.","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.price","conditions":[],"replacement":"prices"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"currency","conditions":[],"replacement":"currencyCode"}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-convert-product-to-alumio-base-product","name":"Akeneo - Convert - Product - To Alumio Base product","description":"This transformer will convert Akeneo product data into Alumio base product data.","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.sku","conditions":[],"replacement":"code"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["parent","parentCode"],["enabled","statusCode"],["family","attributeSetCode"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"uuid"},{"key":"_links"},{"key":"created"},{"key":"updated"},{"key":"associations"},{"key":"quantified_associations"},{"key":"metadata"}]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-filter-simple-product","name":"Akeneo - Filter - Simple Product","description":"We use this transformer to filter previously created into task simple product to avoid duplication.","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"type-setter","parameters":{"entityType":"base-product"}},{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-filter-simple-products","addEntityToStorage":true}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-filter-simple-products","name":"Akeneo - Filter - Simple Products","description":"","object":{"parameters":{"path":"akeneo-filter-simple-products-01JVP5F1FC455K9PCDMB6Y3H18","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-commercetools-products-outgoing","name":"Alumio to Commercetools - Products (Outgoing)","description":"Scheduler to Execute all tasks for Products to Commercetools","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-commercetools","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-commercetools","name":"Synchronize Products - Akeneo to Commercetools","description":"Route for synchronize Products from Alumio base (Storage) and send it to Commercetools","object":{"parameters":{"incoming":"synchronize-products-akeneo-to-commercetools-fetch-storage-product-model-alumio-base","outgoing":"commercetools-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"outgoing-configuration","identifier":"commercetools-send-product","name":"Commercetools - Send Product","description":"Outgoing configuration to send the Products to Commercetools","object":{"parameters":{"publisher":{"prototype":"no-action-publisher","parameters":[]},"transformers":["akeneo-to-commercetools-products-build-variants-for-alumio-base-simple-product","commercetools-product-convert-from-alumio-base-product-conditional-base-mapping","commercetools-send-products-multiple"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-commercetools-products-build-variants-for-alumio-base-simple-product","name":"Akeneo to Commercetools Products - Build variants for Alumio Base Simple Product ","description":"Transformer to build variants for simple products","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"variants"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"*","conditions":[],"replacement":"variants.0.$1"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"code","value":"Product-&{code}","mappers":[]},{"key":"identifier","value":"Product-&{code}","mappers":[]}]}}],"elseTransformers":[]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-conditional-base-mapping","name":"CommerceTools - Product - Convert from Alumio Base Product - Conditional - Base Mapping","description":"This Transformer Checks Whether the product retrieved has children or not before mapping.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"children"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-product-convert-from-alumio-base-product-base-mapping-with-children"]}},{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[],"root":"children"}},"destination":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["children"]}},"conditions":[]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-product-convert-from-alumio-base-product-base-mapping"]}}]}},{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"products"}},"stripEnclosures":true}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"products.1"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"products","recursive":false}}],"elseTransformers":[]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-with-children","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - With Children","description":"This Transformer will filter all data except children for mapping.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"children":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"children"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-product-convert-from-alumio-base-product-base-mapping"]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Without Children","description":"This Transformer is a Stack of Transformer Data Mapping.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["commercetools-product-convert-from-alumio-base-product-base-mapping-1","commercetools-product-convert-from-alumio-base-product-base-mapping-name","commercetools-product-convert-from-alumio-base-product-base-mapping-price","commercetools-product-convert-from-alumio-base-product-base-mapping-description-1","commercetools-product-convert-from-alumio-base-product-base-mapping-meta","commercetools-product-convert-from-alumio-base-product-base-mapping-mastervariant","commercetools-product-convert-from-alumio-base-product-base-mapping-variants","commercetools-product-convert-from-alumio-base-product-base-mapping-filter-keys"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-1","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping -  Key","description":"This Transformer Generate \"key\" from \"code\".","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"code","conditions":[],"replacement":"key"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-lower","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{/[\\s\\W-]+/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"$2","searchRegex":"{/^-+|-+$/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{[^A-Za-z0-9_-]+}"}}],"accessor":{"prototype":"key","parameters":{"keys":["key"]}}}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-name","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Name","description":"Use Name/erp_name.\n\nThis Transformer Create \"name\" from \"code\" and create \"slug\" from \"name\"","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"code","conditions":[],"replacement":"name.en-US"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-cut","parameters":{"start":0,"length":5}}],"accessor":{"prototype":"key","parameters":{"keys":["en-US"],"root":"name"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"name","conditions":[],"replacement":"slug"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-lower","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{/[\\s\\W-]+/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"$2","searchRegex":"{/^-+|-+$/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{[^A-Za-z0-9_-]+}"}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"slug.*"}}}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-price","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Price","description":"This Transformer Map the Price into the Supported Format in Commercetools.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"prices"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["amount","centAmount"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-float","parameters":[]},{"prototype":"prepared-operator","parameters":{"left":100,"right":[],"operator":"multiplication"}},{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":["centAmount"],"root":"value"}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-description-1","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Description","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*"}},"nodeFilters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"localeCode"}}}}],"nodeTransformers":[]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":["localizations"]}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localeCode","conditions":[],"replacement":"customAttributes.localeCode"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*.customAttributes"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp.&{localeCode}","value":"&{description || ``}","mappers":[]}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.*.temp","conditions":[],"replacement":"temporary.$1"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temporary"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temporary"]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temporary.*.*","conditions":[],"replacement":"temp.$0"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"temporary."}},{"prototype":"string-replace","parameters":{"search":"_","replace":"UNDR"}},{"prototype":"string-replace","parameters":{"search":".","replace":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.*"}},"stripEnclosures":false}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"temp*","conditions":[],"replacement":"test.$1"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-filter-letters","parameters":[]},{"prototype":"string-replace","parameters":{"search":"UNDR","replace":"_"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"test"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"test","conditions":[],"replacement":"description"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"_","replace":"-"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"description"}},"stripEnclosures":true}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-strip-html","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"description"}}}}]}}]}}]}},"description":"This Transformer Create \"Description\" Key from \"localizations\".","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-meta","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Meta","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*.customAttributes"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp.&{localeCode}","value":"&{short_description|| ``}","mappers":[]}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.*.temp","conditions":[],"replacement":"temporary.$1"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temporary"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temporary"]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temporary.*.*","conditions":[],"replacement":"temp.$0"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"temporary."}},{"prototype":"string-replace","parameters":{"search":"_","replace":"UNDR"}},{"prototype":"string-replace","parameters":{"search":".","replace":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.*"}},"stripEnclosures":false}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"temp*","conditions":[],"replacement":"test.$1"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-filter-letters","parameters":[]},{"prototype":"string-replace","parameters":{"search":"UNDR","replace":"_"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"test"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"test","conditions":[],"replacement":"metaDescription"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"metaDescription"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"_","replace":"-"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temporary"]}},"conditions":[]}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-strip-html","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"metaDescription"}}}}]}}]}},"description":"Meta Description and Title\n\nThis Transformer Generate \"metaDescription\" and map the localized key into the supported format in commercetools.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-mastervariant","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - MasterVariant","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"variants"}}}},{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["variants"]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"variants.0","conditions":[],"replacement":"masterVariant"}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["identifier","sku"],["code","key"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant"}},"stripEnclosures":true}},{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"masterVariant.customAttributes.*","recursive":false}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"masterVariant.customAttributes.*","conditions":[],"replacement":"masterVariant.customAttributes.$1.$1"}},{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"masterVariant.customAttributes","recursive":false}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.customAttributes.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-copy","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.*","conditions":[],"replacement":"value"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]},{"prototype":"list-reverse","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"name"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"name.0","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"name":true,"value":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value.1"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.0","conditions":[],"replacement":"value"}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.customAttributes.0"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"masterVariant.customAttributes.0","conditions":[],"replacement":"masterVariant.attributes"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant.prices"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["amount","centAmount"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant.localizations"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localeCode","conditions":[],"replacement":"customAttributes.localeCode"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.localizations.*.customAttributes"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp","value":[],"mappers":[]}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"localeCode"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp.&{localeCode}","value":"&{description || ``}","mappers":[]}]}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"masterVariant.localizations.*.*.temp","conditions":[],"replacement":"temporary.$1"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temporary"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temporary.*.*","conditions":[],"replacement":"temp.$0"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"temporary."}},{"prototype":"string-replace","parameters":{"search":"_","replace":"UNDR"}},{"prototype":"string-replace","parameters":{"search":".","replace":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.*"}},"stripEnclosures":false}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"temp*","conditions":[],"replacement":"test.$1"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-filter-letters","parameters":[]},{"prototype":"string-replace","parameters":{"search":"UNDR","replace":"_"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"test"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"test","conditions":[],"replacement":"masterVariant.description"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["test"]}},"conditions":[]}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"key":true,"sku":true,"prices":true,"attributes":true,"description":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant"}}}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"_","replace":"-"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant.description"}},"stripEnclosures":true}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-lower","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}},{"prototype":"string-regex-replace","parameters":{"replace":"$2","searchRegex":"{/^-+|-+$/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{/[\\s\\W-]+/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{[^A-Za-z0-9_-]+}"}}],"accessor":{"prototype":"key","parameters":{"keys":["key"],"root":"masterVariant"}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"masterVariant.description.orary"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-strip-html","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"masterVariant.description"}}}}],"elseTransformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["orary"],"root":"masterVariant.description"}},"conditions":[]}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["description"],"root":"masterVariant"}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"masterVariant.description","value":"","mappers":[]}]}}],"elseTransformers":[]}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.prices.*.value"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-float","parameters":[]},{"prototype":"prepared-operator","parameters":{"left":100,"right":[],"operator":"multiplication"}},{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":["centAmount"]}}}}]}}]}},"description":"This Transformer take the key \"0\" on variants and change it into MasterVariant. Map the Data inside masterVariant into supported format.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-variants","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Variants","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.localizations.*"}},"nodeFilters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"localeCode"}}}}],"nodeTransformers":[]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":["localizations"]}}}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":["variants"]}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"variants"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"sku","value":"&{identifier}","mappers":[]},{"key":"key","value":"&{code}","mappers":[]}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["amount","centAmount"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"variants"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"customAttributes.*","recursive":false}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.*","conditions":[],"replacement":"customAttributes.$1.$1"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.customAttributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-copy","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.*","conditions":[],"replacement":"value"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]},{"prototype":"list-reverse","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"name"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"name.0","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"name":true,"value":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value.1"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.0","conditions":[],"replacement":"value"}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.customAttributes"}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes","conditions":[],"replacement":"attributes"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.localizations.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localeCode","conditions":[],"replacement":"customAttributes.localeCode"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.localizations.*.customAttributes"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp.&{localeCode}","value":"&{description || ``}","mappers":[]}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.*.temp","conditions":[],"replacement":"temporary.$1"}},{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temporary"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}}]}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temporary.*.*","conditions":[],"replacement":"temp.$0"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"temporary."}},{"prototype":"string-replace","parameters":{"search":"_","replace":"UNDR"}},{"prototype":"string-replace","parameters":{"search":".","replace":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.*"}},"stripEnclosures":false}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"temp*","conditions":[],"replacement":"test.$1"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-filter-letters","parameters":[]},{"prototype":"string-replace","parameters":{"search":"UNDR","replace":"_"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"test"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"test","conditions":[],"replacement":"description"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"key":true,"sku":true,"prices":true,"attributes":true,"description":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"variants"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"string-replace","parameters":{"search":"_","replace":"-"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"description"}},"stripEnclosures":true}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-float","parameters":[]},{"prototype":"prepared-operator","parameters":{"left":100,"right":[],"operator":"multiplication"}},{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"prices.*.value.centAmount"}}}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-lower","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{/[\\s\\W-]+/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"$2","searchRegex":"{/^-+|-+$/g}"}},{"prototype":"string-regex-replace","parameters":{"replace":"-","searchRegex":"{[^A-Za-z0-9_-]+}"}}],"accessor":{"prototype":"key","parameters":{"keys":["key"]}}}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"description.orary"}}}}],"elseCases":[],"transformers":[{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-strip-html","parameters":[]},{"prototype":"string-trim","parameters":{"side":"both"}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"description"}}}}],"elseTransformers":[{"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["orary"],"root":"description"}},"conditions":[]}},{"prototype":"value-setter","parameters":{"configurations":[{"key":"description","value":"","mappers":[]}]}}]}}]}}]}},"description":"This Transformer does Data Mapping inside Variants. Changed all the format into commercetools friendly format inside Variants.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-product-convert-from-alumio-base-product-base-mapping-filter-keys","name":"CommerceTools - Product - Convert from Alumio Base Product - Base Mapping - Filter Keys","description":"This Transformer is used to Filter unused Key that isnt used anymore or Commercetools friendly.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["code","customAttributes","localizations"]}},"conditions":[]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-multiple","name":"CommerceTools - Send - Products (Multiple)","description":"Send the Products into Commercetools (Wrapper) when there're childrens in Akeneo product","object":{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"products.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-send-products-prepare-the-attributes","commercetools-send-products-prepare-the-ids","commercetools-send-product-fix-the-prices","commercetools-send-products-1"]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-prepare-the-attributes","name":"Commercetools - Send - Products (Prepare the Attributes)","description":"Prepare the attributes before sending Products to Commercetools","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"temp":{"attributeSetCode":"&{attributeSetCode}"}},"childrenPattern":"variants.*.attributes.*"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"temp":{"attributeSetCode":"&{attributeSetCode}"}},"childrenPattern":"masterVariant.attributes.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.attributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"commercetools-product-types-attributes","storageKey":"&{temp.attributeSetCode}-&{name}","destination":"temp.attributeType"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.attributeType"}},"conditions":[{"prototype":"one-of","parameters":{"value":["set","enum"]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-string","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-explode","parameters":{"delimiter":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[]}}],"elseTransformers":[{"meta":{"name":"if \"text\""},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.attributeType"}},"conditions":[{"prototype":"one-of","parameters":{"value":["text","lenum"]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-array","parameters":{"strict":false}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-implode","parameters":{"glue":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"type-integer","parameters":[]},{"prototype":"type-numeric","parameters":[]},{"prototype":"type-float","parameters":[]}]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[]}}]}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.attributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"commercetools-product-types-attributes","storageKey":"&{temp.attributeSetCode}-&{name}","destination":"temp.attributeType"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.attributeType"}},"conditions":[{"prototype":"one-of","parameters":{"value":["set","enum"]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-string","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-explode","parameters":{"delimiter":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[]}}],"elseTransformers":[{"meta":{"name":"if \"text\""},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.attributeType"}},"conditions":[{"prototype":"one-of","parameters":{"value":["text","lenum"]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-array","parameters":{"strict":false}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-implode","parameters":{"glue":","}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"type-integer","parameters":[]},{"prototype":"type-numeric","parameters":[]},{"prototype":"type-float","parameters":[]}]}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}],"elseTransformers":[]}}]}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-prepare-the-ids","name":"CommerceTools - Send - Products (Prepare The ID's)","description":"Prepare all the ID's (Category, Product Type) -  (Wrapper)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["commercetools-send-products-prepare-the-ids-categories","commercetools-send-products-prepare-the-ids-producttype","commercetools-send-products-check-the-ids"]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-prepare-the-ids-categories","name":"CommerceTools - Send - Products (Prepare The ID's) - Categories","description":"Fetch the Commercetools Product Type ID","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"commercetools-category-code-to-id","storageKey":"&{categoryCode}","destination":"id"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"typeId","value":"category","mappers":[]}]}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"id":true,"typeId":true}}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-category-code-to-id","name":"CommerceTools - Category - Code to id","description":"Akeneo category code is mapped into Commercetools category id","object":{"parameters":{"path":"commercetools-category-code-to-id-01JVPCRCY7DE473X5KYD13QFR1","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-prepare-the-ids-producttype","name":"CommerceTools - Send - Products (Prepare The ID's) - productType","description":"Fetch the Commercetools Product Type ID","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"attributeSetCode"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"commercetools-product-type-akeneo-family-code-to-id","storageKey":"&{attributeSetCode}","destination":"productType.id"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"productType.id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"productType.key","value":"&{attributeSetCode}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"productType.typeId","value":"product-type","mappers":[]}]}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"id":true,"key":true,"typeId":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"productType"}}}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["attributeSetCode"]}},"conditions":[]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"commercetools-product-type-akeneo-family-code-to-id","name":"CommerceTools - Product Type - Akeneo Family code to id","description":"Mapping Akeneo Family into CommerceTools Product Type","object":{"parameters":{"path":"commercetools-product-type-akeneo-family-code-to-id-01JW909YC5EPHFSVGENK3QZHH5","logger":{"parameters":{"actions":[]}}}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-check-the-ids","name":"CommerceTools - Send - Products (Check The ID's)","description":"To Check whether The product is already exists (synchronized) in the Alumio storage or not","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"commercetools-product-key-to-id","storageKey":"&{key}","destination":"temp"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"temp"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{temp.id}","mappers":[]},{"key":"version","value":"&{temp.version}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-product-fix-the-prices","name":"Commercetools - Send - Product (Fix the Prices)","description":"Fix the Prices values before sending the payload to Commercetools","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value.centAmount"}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value.centAmount"}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"masterVariant.prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value.centAmount"}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-1","name":"CommerceTools - Send - Products","description":"Transformer to Send the Product","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-send-products-update"]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["commercetools-send-products-finalize-the-payload","commercetools-send-products-create","commercetools-send-products-post-create"]}}]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-update","name":"CommerceTools - Send - Products - Update","description":"Send the Payload to update the Commercetools Product","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["commercetools-send-products-update-build-payload",{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"payload"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"upsert_response":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"commercetools-http-client","request":{"uri":"/products/&{id}","method":"POST","payload":"&{payload}","plugins":[],"payloadType":"data","authentications":[]}}}}}],"elseTransformers":[]}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-update-build-payload","name":"CommerceTools - Send - Products - Update (Build Payload)","description":"Build the Update payload for commercetools product","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*","conditions":[],"replacement":"currentData.$1"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{currentData.id}","mappers":[]}]}},{"meta":[],"prototype":"merger","parameters":{"template":{"oldData":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"commercetools-http-client","request":{"uri":"/product-projections/&{currentData.id}","payload":{"limit":500,"offset":0,"staged":"true"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":{"name":"Find The Differents"},"prototype":"value-setter","parameters":{"configurations":[{"key":"isDifferents","value":{"key":"&{currentData.key!=oldData.key}","name":"&{currentData.name!=oldData.name}","slug":"&{currentData.slug!=oldData.slug}","metaTitle":"&{currentData.metaTitle!=oldData.metaTitle}","priceMode":"&{currentData.priceMode!=oldData.priceMode}","description":"&{currentData.description!=oldData.description}","taxCategory":"&{currentData.taxCategory.id!=oldData.taxCategory.id}","metaKeywords":"&{currentData.metaKeywords!=oldData.metaKeywords}","masterVariant":"&{currentData.masterVariant.sku!=oldData.masterVariant.sku}","searchKeywords":"&{currentData.searchKeywords!=oldData.searchKeywords}","metaDescription":"&{currentData.metaDescription!=oldData.metaDescription}"},"mappers":[]},{"key":"payload.version","value":"&{oldData.version}","mappers":[]}]}},{"meta":{"name":"changeKey"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.key"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.changeKey","value":[{"key":"&{currentData.key}","action":"changeKey"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"changeMasterVariant"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.masterVariant"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.changeMasterVariant","value":[{"action":"changeMasterVariant","variantId":"&{currentData.masterVariant.id}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"changeName"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.name"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.changeName","value":[{"name":"&{currentData.name}","action":"changeName"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setDescription"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.description"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setDescription","value":[{"action":"setDescription","description":"&{currentData.description}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"changeSlug"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.slug"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.changeSlug","value":[{"slug":"&{currentData.slug}","action":"changeSlug"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setMetaTitle"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.metaTitle"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setMetaTitle","value":[{"action":"setMetaTitle","metaTitle":"&{currentData.metaTitle}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setMetaDescription"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.metaDescription"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setMetaDescription","value":[{"action":"setMetaDescription","metaTitle":"&{currentData.metaDescription}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setMetaKeywords"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.metaKeywords"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setMetaKeywords","value":[{"action":"setMetaKeywords","metaKeywords":"&{currentData.metaKeywords}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setSearchKeywords"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.setSearchKeywords"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setSearchKeywords","value":[{"action":"setSearchKeywords","searchKeywords":"&{currentData.searchKeywords}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setPriceMode"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.setPriceMode"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setPriceMode","value":[{"action":"setPriceMode","priceMode":"&{currentData.priceMode}"}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"setTaxCategory"},"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"isDifferents.taxCategory"}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.setTaxCategory","value":[{"action":"setTaxCategory","taxCategory":{"id":"&{currentData.taxCategory.id}","typeId":"tax-category"}}],"mappers":[]}]}}],"elseTransformers":[]}},{"meta":{"name":"Compare categories"},"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"oldData.categories.*.id","conditions":[],"replacement":"temporary.oldCategories.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"currentData.categories.*.id","conditions":[],"replacement":"temporary.newCategories.$1"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"payload.actions.categoryToAdd","value":["&{temporary.newCategories}","&{temporary.oldCategories}"],"mappers":[{"prototype":"operator","parameters":{"operator":"array-diff"}}]},{"key":"payload.actions.categoryToRemove","value":["&{temporary.oldCategories}","&{temporary.newCategories}"],"mappers":[{"prototype":"operator","parameters":{"operator":"array-diff"}}]}]}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"payload.actions.categoryToAdd.*","conditions":[],"replacement":"payload.actions.categoryToAdd.$1.category.id"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"payload.actions.categoryToRemove.*","conditions":[],"replacement":"payload.actions.categoryToRemove.$1.category.id"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"action":"removeFromCategory","category":{"typeId":"category"}},"childrenPattern":"payload.actions.categoryToRemove.*"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"action":"addToCategory","category":{"typeId":"category"}},"childrenPattern":"payload.actions.categoryToAdd.*"}}]}}]}},{"meta":{"name":"Handle Variants"},"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"oldData.variants.*.sku","conditions":[],"replacement":"payload.actions.removeVariants.$1.sku"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"action":"removeVariant"},"childrenPattern":"payload.actions.removeVariants.*"}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"currentData.variants.*","conditions":[],"replacement":"payload.actions.addVariants.$1"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"action":"addVariant"},"childrenPattern":"payload.actions.addVariants.*"}}]}}]}},{"meta":{"name":"Map All Actions"},"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temporary"]}},"conditions":[]}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]},{"prototype":"operator","parameters":{"operator":"array-merge"}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"payload.actions"}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-finalize-the-payload","name":"CommerceTools - Send - Products (FInalize the Payload)","description":"Finalize the payload before sending to Commercetools","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"id":true,"key":true,"name":true,"slug":true,"state":true,"prices":true,"publish":true,"variants":true,"metaTitle":true,"priceMode":true,"categories":true,"description":true,"productType":true,"taxCategory":true,"metaKeywords":true,"masterVariant":true,"searchKeywords":true,"metaDescription":true,"categoryOrderHints":true}}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-create","name":"CommerceTools - Send - Products - Create","description":"This Transformer will create Products and Product Variants, and store important IDs for future use.","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"upsert_response":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"commercetools-http-client","request":{"uri":"/products","method":"POST","payload":"&{@}","plugins":[],"payloadType":"data","authentications":[]}}}}}]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"commercetools-send-products-post-create","name":"CommerceTools - Send - Products - Post Create","description":"Save the Product data into Alumio storage after create process finished","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"upsert_response.id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"storage-save-entity-in-storage","parameters":{"source":"upsert_response","storage":"commercetools-product-key-to-id","storageKey":"&{upsert_response.key}"}}],"elseTransformers":[]}}]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-commercetools-simple-products-outgoing","name":"Alumio to Commercetools - Simple Products (Outgoing)","description":"Scheduler to Execute all tasks for Simple Products to Commercetools","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-commercetools-simple-product","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-commercetools-simple-product","name":"Synchronize Products - Akeneo to Commercetools (Simple Product)","description":"Route for synchronize Simple Products from Akeneo and send it to Commercetools","object":{"parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent","outgoing":"commercetools-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"entity","identifier":"base-product","name":"Base - Product","description":"","object":{"parameters":{"link":"https://schemas.alumio.com/v2/Product.json","schema":{"$ref":"https://schemas.alumio.com/v2/Product.json"},"identifierPath":["code"]}},"owner":null,"disabled":false}
